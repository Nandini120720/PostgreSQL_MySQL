

pid-file = /var/run/mysqld/mysqld.pid
log-error = /dbdata/data/mysql/logs/mysqld.log
log_bin             = /dbdata/data/mysql/logs/mysql-bin
log_bin_index       = /dbdata/data/mysql/logs/mysql-bin.index
general_log_file    = /dbdata/data/mysql/logs/prdwhsdb01.log
slow_query_log_file = /dbdata/data/mysql/logs/prdwhsdb01-slow.log
mv 
chown mysql:mysql -R /dbdata/mysql/logs

---------------do below config 

[client]
port = 3306
socket = /var/lib/mysql/mysql.sock

[mysqld]
user = mysql
port = 3306
basedir = /usr
datadir = /dbdata/data/mysql
socket = /var/lib/mysql/mysql.sock
pid-file = /var/run/mysqld/mysqld.pid
log-error = /dbdata/data/mysql/logs/mysqld.log
symbolic-links=0

# Recommended in standard MySQL setup
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
max_binlog_size                 = 512M    #max size for binlog before rolling
expire_logs_days                = 15      #binlog files older than this will be purged

## Per-Thread Buffers * (max_connections) = total per-thread mem usage
thread_stack                    = 256K    #default: 32bit: 192K, 64bit: 256K
sort_buffer_size                = 1M      #default: 2M, larger may cause perf issues
read_buffer_size                = 1M      #default: 128K, change in increments of 4K
read_rnd_buffer_size            = 1M      #default: 256K
join_buffer_size                = 1M      #default: 128K
binlog_cache_size               = 64K     #default: 32K, size of buffer to hold TX queries

## Query Cache
query_cache_size                = 32M     #global buffer
query_cache_limit               = 512K    #max query result size to put in cache

## Connections
max_connections                 = 500     #multiplier for memory usage via per-thread buffers
max_connect_errors              = 50000   #default: 10
concurrent_insert               = 2       #default: 1, 2: enable insert for all instances
connect_timeout                 = 30      #default -5.1.22: 5, +5.1.22: 10

## Table and TMP settings
max_heap_table_size             = 1G    #recommend same size as tmp_table_size
bulk_insert_buffer_size         = 1G    #recommend same size as tmp_table_size
tmp_table_size                  = 1G    #recommend 1G min

# set tmpdir to a ramdisk?
#tmpdir                         = /data/mysql-tmp0:/data/mysql-tmp1

## Thread settings
# Try number of CPU's*2 for thread_concurrency
#thread_concurrency             = 8     #recommend 2x CPU cores [0 create as many as needed]
thread_cache_size               = 25    #recommend 5% of max_connections

# Other buffers and caches
table_definition_cache = 400    # As big as many tables you have
table_open_cache = 512          # connections x tables/connection (~2)

# The maximum size of a query packet the server can handle as well as
# maximum query size server can process (Important when working with
# large BLOBs).  enlarged dynamically, for each connection.
#max_allowed_packet = 16M
max_allowed_packet = 32M

# amount of time defined in "long_query_time" or which do not use
# indexes well, if log_short_format is not enabled. It is normally good idea
# to have this turned on if you frequently add new queries to the
# system.
slow_query_log

# All queries taking more than this amount of time (in seconds) will be
# trated as slow. Do not use "1" as a value here, as this will result in
# even very fast queries being logged from time to time (as MySQL
# currently measures time with second accuracy only).
long_query_time = 3

#skip_name_resolve

## MyISAM Engine
#key_buffer                     = 1M    #global buffer
key_buffer_size                 = 1M    #global buffer
myisam_sort_buffer_size         = 128M  #index buffer size for creating/altering indexes
myisam_max_sort_file_size       = 256M  #max file size for tmp table when creating/alering indexes


# Uncomment the following if you are using InnoDB tables
## InnoDB IO settings -  5.5.x and greater
innodb_write_io_threads         = 8
innodb_read_io_threads          = 8

## InnoDB Plugin Independent Settings
innodb_file_per_table           #enable always
innodb_data_file_path           = ibdata1:128M;ibdata2:10M:autoextend
innodb_buffer_pool_size         = 24G           #global buffer
innodb_additional_mem_pool_size = 4M            #global buffer
innodb_flush_log_at_trx_commit  = 1             #2/0 = perf, 1 = ACID
innodb_log_file_size            = 256M
innodb_log_buffer_size          = 128M          #global buffer
innodb_lock_wait_timeout        = 300
innodb_thread_concurrency       = 8             #recommend 2x core quantity
innodb_commit_concurrency       = 8             #recommend 4x num disks
innodb_flush_method             = O_DSYNC       #O_DIRECT = local/DAS, O_DSYNC = SAN/iSCSI
innodb_support_xa               = 0             #recommend 0, disable xa to negate extra disk flush
skip-innodb-doublewrite


#### REPLICATION RELATED
sync_binlog                     = 1

# required unique id between 1 and 2^32 - 1
# defaults to 1 if master-host is not set
# but will not function as a master if omitted
server-id       = 1
## Replication Master Server (default)
# binary logging is required for replication
# binary logging - not required for slaves, but recommended
#log-bin=mysql-bin
log_bin             = /dbdata/data/mysql/logs/mysql-bin
log_bin_index       = /dbdata/data/mysql/logs/mysql-bin.index
#
# binary logging format - mixed recommended
binlog_format=mixed

general_log_file    = /dbdata/data/mysql/logs/prdwhsdb01.log
slow_query_log_file = /dbdata/data/mysql/logs/prdwhsdb01-slow.log

#replicate-wild-ignore-table=mysql.%
#replicate-wild-ignore-table=information_schema.%
#replicate-wild-ignore-table=performance_schema.%

[mysqldump]
quick
#max_allowed_packet = 16M
max_allowed_packet = 32M

[mysql]
no-auto-rehash
# Remove the next comment character if you are not familiar with SQL
#safe-updates

[myisamchk]
key_buffer_size = 256M
sort_buffer_size = 256M
read_buffer = 2M
write_buffer = 2M


[mysqlhotcopy]
interactive-timeout

